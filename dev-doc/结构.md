# 文件目录结构
```
punGadget
|--config 配置
|--data 数据存放
|    |--cacheStmts 语法树存放目录
|--dev-doc 开发文档
|--include 程序主要逻辑文件
|    |--control 对整个程序的工程调度、流程控制
|    |--parser 生成和处理抽象语法树
|    |--pop 根据ast生成pop
|--vendor 依赖包，由composer生成
|--run.php 程序入口
```

# 处理问题
- 是否要完全展开一个魔术方法？
    - 原生函数、方法无需展开
    - 全局函数，建立符号表后，可以展开
    - 类方法，涉及到表达式求值的问题，展开成本太高
    - 全局变量，拥有明显的特征
    - 本类的方法
    - 静态方法，建立符号表
    
# pop
- 入口在哪里，向入口下方的代码进行搜索
- __destruct __wakeup （1）
- 可以设计为这样的思路，
    - （1）默认在搜索函数集中
    - 然后我们查找可以到达的程序空间，每找到一处隐式调用点，
        - 就将其对应的函数加入到搜索集中，
        - 并扩大搜索范围。（加到尾部）
        
# 感觉现在的第一任务是建立符号表
- 问题： 需要哪些符号？
- 完整建立比较好。

- 所以应该有初次初始化扫描，在这个扫描过程中，
    - visitor不能抛出任何不访问子节点、退出等信号，必须保证完整扫描
    - 需要的操作以回调函数的形式传入到visitor中。
    
# 如何进行搜索
- 操作对象是类属性
- 类属性可能经过了大量逻辑计算，如何做表达式求值。
- 删繁就简：只有直接赋值，或者拼接，经过函数处理的都不算。
- 扫描时也会遇到符号表的问题。。。。建议建立一个堆栈结构进行递归扫描
- 上一条因为php解析语言的特性，可能不需要特别关注。
- 对于赋值set和读取get的识别

## 应该有开源的解析库，要不ide怎么着色纠错的？

